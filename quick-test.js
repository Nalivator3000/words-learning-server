const {Client}=require("pg");const fs=require("fs").promises;(async()=>{const c=new Client({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:false}});await c.connect();const themes=JSON.parse(await fs.readFile("themes-russian-batch2.json","utf8"));let u=0;for(const {word,theme} of themes){const r=await c.query("UPDATE words SET theme=$1 WHERE language=$2 AND word=$3 AND(theme IS NULL OR theme=\"general\")RETURNING id",[theme,"ru",word]);u+=r.rowCount;}console.log("RU updated:",u);await c.end();})();
