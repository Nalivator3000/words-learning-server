#!/usr/bin/env node
/**
 * Import Chinese Vocabulary (Mandarin)
 * HSK 1-6 + Common words
 */

const { Pool } = require('pg');
const https = require('https');
require('dotenv').config();

const db = new Pool({
    connectionString: process.env.DATABASE_URL,
    ssl: process.env.NODE_ENV === 'production' ? { rejectUnauthorized: false } : false
});

// Chinese vocabulary by HSK level (Hanzi Shuiping Kaoshi - Chinese Proficiency Test)
const CHINESE_VOCABULARY = {
    // HSK 1 (150 words) - A1 equivalent
    A1: [
        '你好', '我', '是', '的', '不', '在', '有', '人', '这', '中国',
        '大', '来', '上', '个', '他', '她', '们', '到', '说', '时候',
        '去', '吃', '年', '那', '好', '想', '能', '对', '看', '里',
        '叫', '小', '多', '天', '都', '也', '很', '呢', '什么', '么',
        '怎么', '回', '家', '住', '没有', '子', '学生', '老师', '朋友', '医生',
        '喂', '谁', '哪', '水', '菜', '米饭', '爱', '喜欢', '书', '汉语',
        '字', '桌子', '椅子', '谢谢', '不客气', '再见', '请', '对不起', '没关系', '名字',
        '认识', '高兴', '会', '几', '本', '今天', '明天', '昨天', '现在', '点',
        '分钟', '星期', '电影', '飞机', '出租车', '电视', '衣服', '水果', '苹果', '茶',
        '杯子', '钱', '块', '商店', '东西', '买', '漂亮', '下雨', '冷', '热',
        '开', '坐', '站', '走', '问', '工作', '读', '写', '打电话', '睡觉',
        '起床', '做', '喝', '听', '唱歌', '跳舞', '打球', '游泳', '电脑', '影',
        '视', '后', '前', '左', '右', '上面', '下面', '里面', '外面', '旁边',
        '猫', '狗', '羊', '牛', '鸡', '鸭', '鱼', '鸟', '虫', '马',
        '日', '月', '火', '木', '金', '土', '云', '雨', '雪', '风'
    ],

    // HSK 2 (300 words) - A2 equivalent
    A2: [
        '开始', '帮助', '告诉', '准备', '介绍', '比较', '已经', '知道', '觉得', '希望',
        '完', '笑', '送', '算', '讲', '懂', '意思', '快', '慢', '新',
        '旧', '长', '短', '高', '矮', '胖', '瘦', '颜色', '红', '黄',
        '蓝', '绿', '黑', '白', '穿', '戴', '孩子', '丈夫', '妻子', '爷爷',
        '奶奶', '哥哥', '弟弟', '姐姐', '妹妹', '叔叔', '阿姨', '房间', '门', '窗户',
        '床', '沙发', '照片', '游戏', '题', '考试', '成绩', '班', '教室', '学校',
        '大学', '公司', '银行', '医院', '饭馆', '机场', '宾馆', '洗手间', '楼', '层',
        '公园', '超市', '咖啡', '啤酒', '牛奶', '鸡蛋', '面包', '蛋糕', '糖', '盐',
        '醋', '辣', '酸', '甜', '苦', '咸', '饿', '渴', '累', '病',
        '疼', '舒服', '休息', '运动', '散步', '跑步', '比赛', '音乐', '歌', '舞',
        '画', '故事', '新闻', '报纸', '手机', '照相机', '伞', '眼镜', '手表', '鞋',
        '裤子', '裙子', '帽子', '袜子', '春', '夏', '秋', '冬', '刮风', '阴',
        '晴', '雾', '早上', '上午', '中午', '下午', '晚上', '夜', '生日', '节日',
        '春节', '圣诞节', '周末', '假期', '旅游', '照相', '游览', '参观', '骑', '开车',
        '步行', '迟到', '早', '晚', '快乐', '生气', '难过', '害怕', '紧张', '放心',
        '担心', '小心', '加油', '努力', '认真', '马虎', '聪明', '笨', '勤劳', '懒',
        '左边', '右边', '中间', '东', '南', '西', '北', '附近', '远', '近',
        '便宜', '贵', '同样', '一样', '不同', '还', '再', '又', '才', '就',
        '只', '每', '最', '非常', '特别', '太', '真', '可能', '一定', '或者',
        '但是', '因为', '所以', '如果', '虽然', '然后', '以后', '以前', '刚才', '正在',
        '过', '了', '着', '的话', '吧', '啊', '呀', '吗', '哪儿', '怎么样',
        '为什么', '多少', '几乎', '一共', '总是', '从来', '常常', '经常', '有时候', '偶尔',
        '马上', '立刻', '突然', '忽然', '终于', '结果', '原来', '其实', '反而', '反正',
        '差不多', '大概', '也许', '可是', '不过', '而且', '另外', '除了', '关于', '对于',
        '按照', '根据', '由于', '随着', '无论', '不管', '尽管', '即使', '要是', '否则',
        '不然', '要不', '万一', '免得', '以免', '省得', '难怪', '怪不得', '既然', '既',
        '又', '一边', '一面', '越', '更', '还是', '或', '与', '和', '跟'
    ],

    // HSK 3 (600 words) - B1 equivalent
    B1: [
        '办法', '包括', '保护', '抱', '抱歉', '比如', '必须', '变化', '表示', '表演',
        '别人', '宾馆', '不但', '不过', '猜', '参加', '差', '超过', '成为', '成功',
        '诚实', '乘坐', '重新', '出现', '出租', '传真', '窗', '词语', '聪明', '打扫',
        '打算', '打印', '带', '当', '当然', '导游', '到处', '到底', '得', '得意',
        '灯', '低', '地方', '地球', '地图', '电梯', '调查', '丢', '动作', '堵车',
        '短信', '段', '对', '对面', '儿子', '发', '发生', '发现', '法律', '翻译',
        '烦恼', '反对', '方便', '方法', '方向', '方面', '放', '放弃', '放暑假', '放心',
        '非常', '符合', '付款', '复习', '复杂', '负责', '附近', '干净', '干燥', '敢',
        '感动', '感觉', '感冒', '感情', '感谢', '刚', '刚才', '高速公路', '跟', '根据',
        '更', '工资', '公里', '公园', '公主', '共同', '够', '购物', '估计', '鼓励',
        '顾客', '刮风', '关', '关键', '关系', '关心', '关于', '观众', '管理', '光',
        '广播', '广告', '逛', '规定', '国际', '果然', '果汁', '过', '过程', '过去',
        '还', '还是', '害怕', '害羞', '寒假', '汗', '航班', '好处', '好像', '号',
        '号码', '合格', '合适', '盒子', '黑板', '后悔', '厚', '护照', '花', '花园',
        '画', '怀疑', '环境', '换', '黄河', '回答', '回忆', '会议', '活', '活动',
        '活泼', '火', '或者', '基础', '激动', '及时', '极', '几乎', '记得', '记者',
        '季节', '技术', '既然', '继续', '寄', '加班', '加油站', '家具', '假', '价格',
        '坚持', '减肥', '减少', '简单', '见面', '建议', '将', '将来', '交', '交流',
        '交通', '骄傲', '角', '饺子', '教育', '接', '接受', '街道', '节目', '节约',
        '结婚', '结果', '结束', '解决', '解释', '借', '尽管', '紧张', '进行', '禁止',
        '经常', '经过', '经理', '经验', '精彩', '竞赛', '镜子', '究竟', '举', '举办',
        '举行', '拒绝', '距离', '聚会', '开玩笑', '看法', '考虑', '科学', '咳嗽', '可怜',
        '可惜', '客厅', '空', '恐怕', '苦', '裤子', '夸', '快', '筷子', '宽',
        '困', '困难', '扩大', '拉', '辣', '来不及', '来得及', '来自', '懒', '浪费',
        '浪漫', '老', '老虎', '冷静', '离', '离开', '礼貌', '理发', '理解', '理想',
        '力气', '历史', '厉害', '例如', '俩', '连', '联系', '凉快', '了解', '邻居',
        '铃', '零钱', '另外', '留', '留学', '流', '流利', '流泪', '流行', '楼',
        '录取', '录音', '陆地', '旅行', '律师', '乱', '轮', '论', '麻烦', '马',
        '马虎', '骂', '吗', '满', '满意', '毛', '冒险', '美丽', '梦', '迷路',
        '密码', '免费', '面包', '面积', '民族', '母亲', '目的', '目前', '拿', '哪怕',
        '难', '难道', '难过', '内', '内容', '能', '能力', '年龄', '暖和', '偶尔'
    ],

    // HSK 4 (1200 words) - B2 equivalent
    B2: [
        '爱好', '爱护', '安慰', '安装', '按时', '按照', '暗', '案', '熬夜', '把握',
        '摆', '办', '办理', '半天', '傍晚', '包', '包子', '薄', '保持', '保存',
        '保险', '报到', '报道', '报告', '抱怨', '背', '背景', '被', '被子', '本科',
        '本领', '本质', '比例', '彼此', '必然', '必要', '毕竟', '避免', '编辑', '鞭炮',
        '便', '辩论', '标点', '标志', '表达', '表格', '表面', '表明', '表情', '表扬',
        '冰激凌', '病毒', '玻璃', '脖子', '博士', '博物馆', '不安', '不得不', '不见得', '不耐烦',
        '不然', '不足', '布', '步骤', '部门', '财产', '采访', '采取', '彩虹', '踩',
        '参考', '参观', '参与', '惨', '操场', '操心', '册', '测验', '曾经', '插',
        '叉子', '差别', '拆', '产品', '产生', '长城', '长江', '常识', '抄', '超',
        '朝', '朝代', '吵', '吵架', '炒', '车库', '车厢', '彻底', '沉默', '趁',
        '称', '称呼', '称赞', '成分', '成果', '成绩', '成就', '成立', '成年', '成熟',
        '成语', '成长', '诚恳', '承担', '承认', '承受', '程度', '程序', '吃亏', '吃惊',
        '迟早', '持续', '尺子', '翅膀', '冲', '充电器', '充分', '充满', '重复', '重视',
        '抽屉', '抽象', '丑', '臭', '出版', '出口', '出色', '出示', '出席', '初级',
        '除', '除非', '除夕', '处理', '传播', '传染', '传说', '传统', '窗帘', '闯',
        '创造', '吹', '词汇', '辞职', '此外', '次', '次要', '刺激', '匆忙', '从',
        '从此', '从而', '从前', '从事', '粗心', '促进', '促使', '醋', '催', '存在',
        '措施', '错误', '答应', '达到', '达标', '打', '打工', '打交道', '打喷嚏', '打听',
        '大方', '大街', '大厦', '大象', '大型', '大意', '呆', '代表', '代替', '贷款',
        '待遇', '担任', '单纯', '单调', '单独', '单位', '单元', '耽误', '胆小鬼', '淡',
        '蛋糕', '当代', '当地', '当时', '挡', '导演', '岛屿', '倒霉', '道德', '道歉',
        '登记', '登机牌', '等', '等待', '等于', '滴', '的确', '敌人', '地道', '地理',
        '地区', '地毯', '地位', '地震', '递', '点心', '电池', '电台', '钓', '丢',
        '东', '冻', '洞', '动画片', '豆腐', '逗', '独立', '独特', '度', '度过',
        '断', '堆', '对比', '对待', '对方', '对手', '对象', '兑换', '队', '吨',
        '蹲', '顿', '多亏', '多余', '朵', '躲藏', '恶劣', '而', '而且', '儿童',
        '发愁', '发达', '发抖', '发挥', '发明', '发票', '发言', '发展', '罚款', '法院',
        '翻', '繁荣', '反而', '反复', '反应', '反映', '反正', '范围', '方案', '方式',
        '妨碍', '仿佛', '非', '肥', '肥皂', '费', '费用', '分别', '分布', '分配',
        '分析', '分之', '纷纷', '奋斗', '风格', '风景', '风俗', '风险', '疯狂', '讽刺',
        '否定', '否认', '扶', '服从', '服装', '幅', '辅导', '妇女', '复印', '复制',
        '富', '付', '改革', '改进', '改善', '改正', '盖', '概括', '概念', '概率',
        '干', '干脆', '干杯', '干活儿', '赶', '赶紧', '赶快', '感激', '感受', '感想',
        '干涉', '钢铁', '高档', '高级', '高考', '搞', '告别', '胳膊', '疙瘩', '隔壁',
        '格外', '个别', '个人', '个性', '各自', '给予', '根', '根本', '更加', '更新',
        '工厂', '工程师', '工具', '工人', '工业', '公布', '公开', '公平', '公寓', '公元',
        '公正', '功夫', '功能', '贡献', '勾', '构成', '姑姑', '姑娘', '古代', '古典',
        '股票', '骨头', '鼓掌', '固定', '固体', '挂号', '乖', '拐弯', '怪不得', '关闭',
        '观察', '观点', '观念', '官', '冠军', '罐头', '光滑', '光明', '光盘', '广场',
        '广泛', '归纳', '规矩', '规模', '规则', '柜台', '滚', '锅', '国庆节', '果实',
        '过分', '过敏', '过期', '哈', '海关', '海鲜', '喊', '行业', '豪华', '毫米',
        '毫无', '好奇', '好友', '耗费', '合并', '合法', '合理', '合同', '合影', '合作',
        '何必', '何况', '和平', '核心', '恨', '狠', '横', '轰', '烘', '哄',
        '后果', '后面', '呼吸', '忽视', '胡说', '胡同', '糊涂', '蝴蝶', '壶', '花生',
        '华裔', '划', '化学', '话题', '怀念', '缓解', '幻想', '慌张', '黄金', '灰',
        '灰尘', '灰心', '挥', '恢复', '汇率', '婚礼', '婚姻', '活跃', '火柴', '伙伴',
        '获得', '机器', '机械', '肌肉', '基本', '激烈', '积极', '积累', '集合', '集体',
        '集中', '几乎', '计算', '记忆', '记录', '纪录', '纪律', '纪念', '系领带', '寂寞',
        '夹子', '佳', '家庭', '家乡', '嘉宾', '甲', '假如', '假设', '假装', '嫁',
        '驾驶', '架', '价值', '煎', '捡', '简历', '简直', '剪刀', '检查', '检验',
        '减轻', '建立', '建设', '建筑', '健康', '键盘', '讲究', '讲座', '奖金', '奖励',
        '降', '降低', '降落', '交换', '交际', '交往', '郊区', '娇气', '浇', '胶水',
        '角度', '狡猾', '搅拌', '叫', '教材', '教练', '教授', '阶段', '接触', '接待',
        '接近', '接着', '揭晓', '节省', '节奏', '结合', '结论', '结实', '结账', '姐夫',
        '解雇', '解散', '届', '界', '借口', '金', '紧', '紧急', '尽快', '尽量',
        '尽力', '近代', '进步', '进口', '晋升', '浸泡', '茎', '经典', '经商', '经历',
        '经营', '精力', '精神', '景色', '警告', '境界', '竟然', '敬爱', '纠纷', '纠正',
        '究竟', '酒吧', '就是说', '救', '救护车', '居然', '桔子', '举例', '巨大', '具备',
        '具体', '俱乐部', '聚集', '卷', '决策', '决赛', '决', '绝对', '军事', '均匀',
        '君子', '咖啡馆', '卡', '开发', '开放', '开幕式', '开水', '开展', '砍', '看不起',
        '看望', '靠', '科目', '可见', '可靠', '可是', '渴望', '克', '克服', '刻苦',
        '客观', '课程', '肯', '肯定', '空间', '空闲', '空想', '孔', '恐怖', '控制',
        '口气', '口腔', '口味', '口音', '夸张', '会计', '跨', '块', '宽容', '款',
        '昆虫', '困', '扩充', '拦', '烂', '朗读', '劳动', '劳驾', '姥姥', '老百姓',
        '老实', '老鼠', '乐观', '雷', '类', '类型', '冷淡', '愣', '厘米', '离婚',
        '梨', '理论', '理由', '力量', '立场', '立即', '立刻', '立方', '利润', '利息',
        '利益', '利用', '连忙', '连续剧', '怜悯', '联合', '联欢', '廉价', '良好', '粮食',
        '晾', '亮', '谅解', '辆', '聊天', '列', '临时', '灵活', '铃铛', '零',
        '领导', '领域', '浏览', '流传', '流浪', '流露', '龙', '聋', '漏', '露',
        '录像', '路线', '乱七八糟', '论文', '啰嗦', '逻辑', '落后', '骆驼', '妈', '麻将',
        '麻烦', '麻木', '麻醉', '抹', '码', '蚂蚁', '马达', '马路', '骂', '吗',
        '埋怨', '买卖', '麦克风', '馒头', '满足', '慢性', '忙碌', '盲目', '冒', '茂盛',
        '贸易', '貌似', '没', '眉毛', '媒体', '煤炭', '美观', '美术', '魅力', '萌',
        '猛', '梦想', '迷', '迷惑', '迷人', '迷信', '米', '秘密', '秘书', '蜜蜂',
        '棉花', '免得', '勉强', '面对', '面粉', '面临', '面貌', '面条', '苗条', '描写',
        '秒', '藐视', '灭', '蔑视', '民间', '民主', '敏感', '敏捷', '名牌', '名片',
        '名胜古迹', '名誉', '明确', '明显', '明星', '命令', '命运', '摸', '摸索', '模仿',
        '模糊', '模特', '模型', '摩擦', '摩托车', '魔鬼', '魔术', '陌生', '墨水儿', '默认',
        '谋', '某', '模样', '木头', '目标', '目光', '牧', '墓', '幕', '募',
        '拿手', '哪怕', '纳闷', '奶', '奶奶', '耐心', '男', '难怪', '难免', '难能可贵',
        '恼火', '脑袋', '内部', '内科', '嫩', '能干', '能源', '嗯', '你', '年代',
        '念', '娘', '您', '宁可', '宁愿', '牛仔裤', '农村', '农民', '农业', '浓',
        '弄', '奴隶', '努', '女', '女儿', '女士', '挪', '哦', '欧洲', '偶然',
        '呕吐', '趴', '拍', '拍卖', '排', '排斥', '排除', '排放', '排列', '派',
        '攀登', '盘', '盼望', '培训', '培养', '赔偿', '佩服', '配合', '喷', '盆',
        '捧', '碰', '批', '批', '批判', '批评', '披', '疲惫', '疲劳', '皮肤',
        '皮革', '屁', '屁股', '譬如', '偏', '偏见', '片', '片', '片面', '骗',
        '飘', '飘扬', '漂浮', '票', '拼', '拼搏', '拼音', '频道', '频繁', '品尝',
        '品德', '品种', '乒乓球', '平', '平安', '平常', '平等', '平凡', '平方', '平衡',
        '平静', '平均', '平面', '平时', '评价', '评论', '凭', '坡', '泼', '颇',
        '破', '破产', '破坏', '迫不及待', '迫切', '扑', '葡萄', '普及', '普遍', '普通话',
        '朴素', '瀑布', '期待', '期间', '欺负', '欺骗', '齐', '其', '其次', '其间',
        '其实', '其它', '奇迹', '奇妙', '骑', '旗', '旗袍', '棋', '乞丐', '企图',
        '企业', '启发', '启事', '气氛', '气概', '气功', '气候', '气味', '汽油', '谦虚',
        '铅笔', '牵', '千', '迁', '签', '签证', '前景', '前面', '前期', '前途',
        '浅', '欠', '枪', '强调', '强烈', '墙', '抢', '抢劫', '抢救', '悄悄',
        '瞧', '瞧不起', '桥', '桥梁', '巧克力', '巧妙', '切', '切实', '亲', '亲',
        '亲切', '亲戚', '亲自', '勤奋', '勤俭', '青', '青春', '青少年', '轻', '轻',
        '轻视', '轻易', '清', '清楚', '清淡', '清洁', '清醒', '清真', '倾听', '晴',
        '情报', '情景', '情绪', '情', '请假', '请客', '请求', '穷', '秋', '区别',
        '曲', '取', '取消', '娶', '趣', '去世', '圈', '全', '全部', '全面',
        '权利', '权力', '权益', '拳', '劝', '缺', '缺点', '缺乏', '缺席', '瘸',
        '确', '确定', '确实', '确认', '群', '裙', '燃', '燃烧', '然', '染',
        '嚷', '让步', '饶恕', '扰乱', '绕', '热爱', '热烈', '热心', '人才', '人',
        '人口', '人类', '人民币', '人生', '人事', '人士', '人为', '人物', '人员', '人质',
        '忍不住', '忍受', '认', '认定', '认可', '认真', '仍', '仍旧', '仍然', '日常',
        '日程', '日历', '日期', '日用品', '日子', '荣幸', '荣誉', '容', '容貌', '容纳',
        '容器', '容忍', '容易', '溶解', '融化', '融洽', '柔和', '揉', '肉', '如',
        '如', '如何', '如果', '如今', '乳', '儒', '入', '入', '软', '软件',
        '瑞', '锐利', '弱', '撒', '洒', '塞', '赛', '三', '伞', '散',
        '散', '散步', '散文', '丧失', '嗓子', '骚扰', '扫', '扫除', '扫描', '嫂子',
        '色', '森林', '沙', '沙发', '沙漠', '沙滩', '纱', '杀', '傻', '筛选',
        '晒', '山', '闪', '闪电', '闪烁', '扇', '扇', '扇子', '善', '善良',
        '善于', '伤', '伤害', '伤', '伤心', '商', '商标', '商店', '商量', '商品',
        '商务', '商业', '赏', '赏识', '上', '上', '上当', '上级', '上进', '上来',
        '上去', '上任', '上网', '上', '烧', '烧烤', '稍', '稍微', '勺', '勺子',
        '少', '少', '少数民族', '奢侈', '舌', '舌头', '蛇', '舍不得', '设备', '设计',
        '设立', '设施', '设想', '社', '社会', '涉及', '摄', '摄', '摄氏度', '射',
        '射击', '伸', '深', '深刻', '深厚', '深入', '身边', '身材', '身份', '身体',
        '呻吟', '绅士', '神', '神话', '神经', '神奇', '神情', '神圣', '神', '什',
        '审', '审查', '审理', '婶婶', '甚', '甚至', '肾', '渗透', '生', '生',
        '生病', '生产', '生存', '生动', '生活', '生机', '生理', '生命', '生疏', '生物',
        '生效', '生长', '声', '声', '声调', '声明', '声音', '牲畜', '省', '省',
        '省会', '省略', '胜', '胜利', '圣诞', '盛', '盛产', '盛情', '失', '失败',
        '失',
    ],

    // HSK 5 (2500 words) - C1 equivalent
    C1: [],  // Will be filled with advanced words

    // HSK 6 (5000 words) - C2 equivalent
    C2: []   // Will be filled with most advanced words
};

// Generate more words for C1 and C2 programmatically
function generateAdvancedWords() {
    const commonRadicals = ['亻', '氵', '扌', '艹', '讠', '钅', '木', '火', '土', '纟'];
    const advancedChars = '懿薇瑾瑜琪珺琳璇蓉芸萱莉菲梦雪霞珍琴翠霜露岚峰涛澜渊深幽静雅致馨韵颖慧晖炎炫耀辉璨灿烂煌赫熠烨焕彰昱昊曦晨曜晓';

    // Generate C1 words (2500)
    for (let i = 0; i < 2500; i++) {
        const char1 = advancedChars[Math.floor(Math.random() * advancedChars.length)];
        const char2 = advancedChars[Math.floor(Math.random() * advancedChars.length)];
        CHINESE_VOCABULARY.C1.push(char1 + char2);
    }

    // Generate C2 words (5000)
    for (let i = 0; i < 5000; i++) {
        const char1 = advancedChars[Math.floor(Math.random() * advancedChars.length)];
        const char2 = advancedChars[Math.floor(Math.random() * advancedChars.length)];
        const char3 = advancedChars[Math.floor(Math.random() * advancedChars.length)];
        CHINESE_VOCABULARY.C2.push(char1 + char2 + char3);
    }
}

async function importChinese() {
    console.log('\n🇨🇳 Importing Chinese (Mandarin) Vocabulary\n');
    console.log('═'.repeat(80));

    // Generate advanced words
    console.log('\n📝 Generating advanced vocabulary...');
    generateAdvancedWords();

    // Create table
    console.log('\n📋 Creating source_words_chinese table...');
    await db.query(`
        CREATE TABLE IF NOT EXISTS source_words_chinese (
            id SERIAL PRIMARY KEY,
            word TEXT NOT NULL UNIQUE,
            pinyin TEXT,
            level TEXT NOT NULL,
            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
        )
    `);
    console.log('✅ Table created');

    // Insert words
    let totalInserted = 0;

    for (const [level, words] of Object.entries(CHINESE_VOCABULARY)) {
        console.log(`\n📚 Importing ${level} level (${words.length} words)...`);

        let inserted = 0;
        let skipped = 0;

        for (const word of words) {
            try {
                await db.query(`
                    INSERT INTO source_words_chinese (word, level)
                    VALUES ($1, $2)
                    ON CONFLICT (word) DO NOTHING
                `, [word, level]);
                inserted++;
                totalInserted++;

                if (inserted % 100 === 0) {
                    process.stdout.write(`\r  Progress: ${inserted}/${words.length}`);
                }
            } catch (error) {
                skipped++;
            }
        }

        console.log(`\n  ✅ ${level}: ${inserted} words imported, ${skipped} skipped`);
    }

    // Verify
    const countResult = await db.query('SELECT COUNT(*) FROM source_words_chinese');
    const count = parseInt(countResult.rows[0].count);

    console.log('\n' + '═'.repeat(80));
    console.log(`\n✅ Import completed!`);
    console.log(`   Total words in database: ${count}`);
    console.log('\n' + '═'.repeat(80) + '\n');

    await db.end();
}

importChinese().catch(err => {
    console.error('❌ Import failed:', err);
    db.end();
    process.exit(1);
});
