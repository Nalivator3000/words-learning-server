const { Pool } = require('pg');

const pool = new Pool({
  connectionString: 'postgresql://postgres:uPGJKLcZLFGTZeRbnzPOVTlzWRObbnKO@mainline.proxy.rlwy.net:54625/railway',
  ssl: { rejectUnauthorized: false }
});

// Comprehensive German to English translation dictionary
const germanToEnglish = {
  // Articles
  "der": "the (masculine)",
  "die": "the (feminine/plural)",
  "das": "the (neuter)",
  "ein": "a/an (masculine/neuter)",
  "eine": "a/an (feminine)",

  // Personal Pronouns
  "ich": "I",
  "du": "you (informal singular)",
  "er": "he",
  "sie": "she/they",
  "es": "it",
  "wir": "we",
  "ihr": "you (informal plural)",
  "Sie": "you (formal)",
  "mich": "me (accusative)",
  "dich": "you (accusative)",
  "ihn": "him",
  "uns": "us",
  "euch": "you (plural, accusative)",
  "mir": "to me (dative)",
  "dir": "to you (dative)",
  "ihm": "to him",
  "ihr": "to her",

  // Greetings & Common Phrases
  "Hallo": "hello",
  "Guten Morgen": "good morning",
  "Guten Tag": "good day/hello",
  "Guten Abend": "good evening",
  "Gute Nacht": "good night",
  "Auf Wiedersehen": "goodbye",
  "Tsch√ºss": "bye",
  "Bis bald": "see you soon",
  "Bis sp√§ter": "see you later",
  "Bis morgen": "see you tomorrow",
  "Willkommen": "welcome",

  // Politeness
  "ja": "yes",
  "nein": "no",
  "bitte": "please/you're welcome",
  "danke": "thank you",
  "Danke sch√∂n": "thank you very much",
  "Entschuldigung": "excuse me/sorry",
  "Verzeihung": "pardon/excuse me",

  // Question Words
  "wie": "how",
  "was": "what",
  "wo": "where",
  "wer": "who",
  "wann": "when",
  "warum": "why",
  "welche": "which",
  "welcher": "which (masculine)",
  "welches": "which (neuter)",
  "wohin": "where to",
  "woher": "where from",
  "wessen": "whose",
  "wieviel": "how much",

  // Numbers
  "null": "zero",
  "eins": "one",
  "zwei": "two",
  "drei": "three",
  "vier": "four",
  "f√ºnf": "five",
  "sechs": "six",
  "sieben": "seven",
  "acht": "eight",
  "neun": "nine",
  "zehn": "ten",
  "elf": "eleven",
  "zw√∂lf": "twelve",
  "dreizehn": "thirteen",
  "vierzehn": "fourteen",
  "f√ºnfzehn": "fifteen",
  "sechzehn": "sixteen",
  "siebzehn": "seventeen",
  "achtzehn": "eighteen",
  "neunzehn": "nineteen",
  "zwanzig": "twenty",
  "drei√üig": "thirty",
  "vierzig": "forty",
  "f√ºnfzig": "fifty",
  "sechzig": "sixty",
  "siebzig": "seventy",
  "achtzig": "eighty",
  "neunzig": "ninety",
  "hundert": "hundred",
  "tausend": "thousand",
  "Million": "million",

  // Common Verbs
  "sein": "to be",
  "haben": "to have",
  "werden": "to become",
  "k√∂nnen": "can/to be able to",
  "m√ºssen": "must/to have to",
  "sollen": "should/to be supposed to",
  "wollen": "to want",
  "d√ºrfen": "may/to be allowed to",
  "m√∂gen": "to like",
  "m√∂chten": "would like",
  "machen": "to do/to make",
  "gehen": "to go",
  "kommen": "to come",
  "sehen": "to see",
  "h√∂ren": "to hear",
  "sprechen": "to speak",
  "sagen": "to say",
  "wissen": "to know (facts)",
  "kennen": "to know (people/places)",
  "denken": "to think",
  "glauben": "to believe",
  "nehmen": "to take",
  "geben": "to give",
  "bringen": "to bring",
  "finden": "to find",
  "suchen": "to search/to look for",
  "leben": "to live",
  "wohnen": "to reside/to live",
  "arbeiten": "to work",
  "lernen": "to learn",
  "studieren": "to study",
  "lesen": "to read",
  "schreiben": "to write",
  "essen": "to eat",
  "trinken": "to drink",
  "kochen": "to cook",
  "kaufen": "to buy",
  "verkaufen": "to sell",
  "fahren": "to drive/to travel",
  "fliegen": "to fly",
  "laufen": "to run/to walk",
  "rennen": "to run",
  "stehen": "to stand",
  "sitzen": "to sit",
  "liegen": "to lie",
  "schlafen": "to sleep",
  "aufwachen": "to wake up",
  "aufstehen": "to get up",
  "bleiben": "to stay/to remain",
  "beginnen": "to begin",
  "anfangen": "to start",
  "enden": "to end",
  "aufh√∂ren": "to stop",
  "helfen": "to help",
  "brauchen": "to need",
  "warten": "to wait",
  "√∂ffnen": "to open",
  "schlie√üen": "to close",
  "zeigen": "to show",
  "erkl√§ren": "to explain",
  "fragen": "to ask",
  "antworten": "to answer",
  "spielen": "to play",
  "singen": "to sing",
  "tanzen": "to dance",
  "lachen": "to laugh",
  "weinen": "to cry",
  "lieben": "to love",
  "hassen": "to hate",
  "verstehen": "to understand",
  "vergessen": "to forget",
  "erinnern": "to remember",
  "hoffen": "to hope",
  "w√ºnschen": "to wish",
  "tr√§umen": "to dream",
  "bezahlen": "to pay",
  "kosten": "to cost",
  "bedeuten": "to mean",
  "hei√üen": "to be called",
  "passieren": "to happen",
  "geschehen": "to occur",
  "√§ndern": "to change",
  "versuchen": "to try",
  "gewinnen": "to win",
  "verlieren": "to lose",
  "treffen": "to meet",
  "besuchen": "to visit",
  "erreichen": "to reach",
  "bekommen": "to get/to receive",
  "erhalten": "to receive",
  "legen": "to lay/to put",
  "stellen": "to place/to put",
  "setzen": "to set/to put",
  "h√§ngen": "to hang",
  "tragen": "to wear/to carry",
  "ziehen": "to pull/to move",
  "dr√ºcken": "to push",
  "werfen": "to throw",
  "fangen": "to catch",
  "halten": "to hold/to stop",
  "lassen": "to let/to leave",
  "folgen": "to follow",
  "f√ºhren": "to lead",
  "steigen": "to climb",
  "fallen": "to fall",
  "springen": "to jump",
  "schwimmen": "to swim",
  "reisen": "to travel",

  // Common Nouns
  "Mann": "man",
  "Frau": "woman",
  "Kind": "child",
  "Junge": "boy",
  "M√§dchen": "girl",
  "Baby": "baby",
  "Leute": "people",
  "Mensch": "human/person",
  "Person": "person",
  "Freund": "friend (male)",
  "Freundin": "friend (female)",
  "Familie": "family",
  "Vater": "father",
  "Mutter": "mother",
  "Eltern": "parents",
  "Sohn": "son",
  "Tochter": "daughter",
  "Bruder": "brother",
  "Schwester": "sister",
  "Gro√üvater": "grandfather",
  "Gro√ümutter": "grandmother",
  "Opa": "grandpa",
  "Oma": "grandma",
  "Onkel": "uncle",
  "Tante": "aunt",
  "Cousin": "cousin (male)",
  "Cousine": "cousin (female)",
  "Ehemann": "husband",
  "Ehefrau": "wife",
  "Partner": "partner",

  // Places
  "Haus": "house",
  "Wohnung": "apartment",
  "Zimmer": "room",
  "K√ºche": "kitchen",
  "Bad": "bathroom",
  "Schlafzimmer": "bedroom",
  "Wohnzimmer": "living room",
  "Garten": "garden",
  "Stra√üe": "street",
  "Stadt": "city",
  "Dorf": "village",
  "Land": "country/land",
  "Welt": "world",
  "Ort": "place",
  "Platz": "square/space/seat",
  "Markt": "market",
  "Gesch√§ft": "shop/store",
  "Laden": "shop/store",
  "Supermarkt": "supermarket",
  "Restaurant": "restaurant",
  "Caf√©": "caf√©",
  "Hotel": "hotel",
  "Schule": "school",
  "Universit√§t": "university",
  "Bibliothek": "library",
  "Krankenhaus": "hospital",
  "Apotheke": "pharmacy",
  "Bank": "bank",
  "Post": "post office",
  "Bahnhof": "train station",
  "Flughafen": "airport",
  "Kirche": "church",
  "Museum": "museum",
  "Theater": "theater",
  "Kino": "cinema/movie theater",
  "Park": "park",
  "B√ºro": "office",
  "Firma": "company",

  // Food & Drink
  "Essen": "food",
  "Trinken": "drink",
  "Wasser": "water",
  "Milch": "milk",
  "Kaffee": "coffee",
  "Tee": "tea",
  "Saft": "juice",
  "Bier": "beer",
  "Wein": "wine",
  "Brot": "bread",
  "Br√∂tchen": "bread roll",
  "Butter": "butter",
  "K√§se": "cheese",
  "Fleisch": "meat",
  "Fisch": "fish",
  "Huhn": "chicken",
  "Schwein": "pig/pork",
  "Rind": "beef/cattle",
  "Wurst": "sausage",
  "Ei": "egg",
  "Gem√ºse": "vegetable",
  "Obst": "fruit",
  "Apfel": "apple",
  "Banane": "banana",
  "Orange": "orange",
  "Kartoffel": "potato",
  "Tomate": "tomato",
  "Salat": "salad/lettuce",
  "Reis": "rice",
  "Nudeln": "noodles/pasta",
  "Suppe": "soup",
  "Pizza": "pizza",
  "Kuchen": "cake",
  "Torte": "cake/tart",
  "Zucker": "sugar",
  "Salz": "salt",
  "Pfeffer": "pepper",

  // Time
  "Zeit": "time",
  "Tag": "day",
  "Woche": "week",
  "Monat": "month",
  "Jahr": "year",
  "Stunde": "hour",
  "Minute": "minute",
  "Sekunde": "second",
  "Morgen": "morning",
  "Vormittag": "forenoon",
  "Mittag": "noon",
  "Nachmittag": "afternoon",
  "Abend": "evening",
  "Nacht": "night",
  "heute": "today",
  "gestern": "yesterday",
  "morgen": "tomorrow",
  "jetzt": "now",
  "bald": "soon",
  "sp√§ter": "later",
  "fr√ºh": "early",
  "sp√§t": "late",
  "immer": "always",
  "nie": "never",
  "manchmal": "sometimes",
  "oft": "often",
  "selten": "rarely",

  // Days of the Week
  "Montag": "Monday",
  "Dienstag": "Tuesday",
  "Mittwoch": "Wednesday",
  "Donnerstag": "Thursday",
  "Freitag": "Friday",
  "Samstag": "Saturday",
  "Sonntag": "Sunday",

  // Months
  "Januar": "January",
  "Februar": "February",
  "M√§rz": "March",
  "April": "April",
  "Mai": "May",
  "Juni": "June",
  "Juli": "July",
  "August": "August",
  "September": "September",
  "Oktober": "October",
  "November": "November",
  "Dezember": "December",

  // Seasons
  "Fr√ºhling": "spring",
  "Sommer": "summer",
  "Herbst": "autumn/fall",
  "Winter": "winter",

  // Weather
  "Wetter": "weather",
  "Sonne": "sun",
  "Regen": "rain",
  "Schnee": "snow",
  "Wind": "wind",
  "Wolke": "cloud",
  "Himmel": "sky",
  "warm": "warm",
  "kalt": "cold",
  "hei√ü": "hot",
  "k√ºhl": "cool",
  "sonnig": "sunny",
  "regnerisch": "rainy",

  // Colors
  "Farbe": "color",
  "wei√ü": "white",
  "schwarz": "black",
  "rot": "red",
  "blau": "blue",
  "gr√ºn": "green",
  "gelb": "yellow",
  "orange": "orange",
  "rosa": "pink",
  "lila": "purple",
  "braun": "brown",
  "grau": "gray",

  // Adjectives
  "gut": "good",
  "schlecht": "bad",
  "gro√ü": "big/tall",
  "klein": "small",
  "lang": "long",
  "kurz": "short",
  "alt": "old",
  "neu": "new",
  "jung": "young",
  "sch√∂n": "beautiful/nice",
  "h√§sslich": "ugly",
  "schnell": "fast/quick",
  "langsam": "slow",
  "leicht": "easy/light",
  "schwer": "difficult/heavy",
  "richtig": "correct/right",
  "falsch": "wrong/false",
  "teuer": "expensive",
  "billig": "cheap",
  "voll": "full",
  "leer": "empty",
  "sauber": "clean",
  "schmutzig": "dirty",
  "einfach": "simple/easy",
  "kompliziert": "complicated",
  "interessant": "interesting",
  "langweilig": "boring",
  "wichtig": "important",
  "unwichtig": "unimportant",
  "m√∂glich": "possible",
  "unm√∂glich": "impossible",
  "n√∂tig": "necessary",
  "fertig": "ready/finished",
  "gl√ºcklich": "happy",
  "traurig": "sad",
  "m√ºde": "tired",
  "wach": "awake",
  "gesund": "healthy",
  "krank": "sick/ill",
  "stark": "strong",
  "schwach": "weak",
  "nett": "nice/kind",
  "freundlich": "friendly",
  "h√∂flich": "polite",
  "unh√∂flich": "rude/impolite",
  "laut": "loud",
  "leise": "quiet",
  "hell": "bright/light",
  "dunkel": "dark",
  "offen": "open",
  "geschlossen": "closed",
  "vorsichtig": "careful",
  "gef√§hrlich": "dangerous",
  "sicher": "safe/sure",
  "bekannt": "known/famous",
  "unbekannt": "unknown",

  // Adverbs & Prepositions
  "sehr": "very",
  "zu": "too/to",
  "auch": "also",
  "nicht": "not",
  "nur": "only",
  "aber": "but",
  "oder": "or",
  "und": "and",
  "f√ºr": "for",
  "mit": "with",
  "ohne": "without",
  "bei": "at/near/with",
  "von": "from/of",
  "nach": "after/to",
  "vor": "before/in front of",
  "in": "in",
  "an": "at/on",
  "auf": "on/upon",
  "√ºber": "over/about",
  "unter": "under",
  "zwischen": "between",
  "neben": "next to/beside",
  "hinter": "behind",
  "durch": "through",
  "gegen": "against",
  "um": "around/at (time)",
  "bis": "until",
  "seit": "since",
  "w√§hrend": "during",
  "hier": "here",
  "dort": "there",
  "da": "there",
  "oben": "above/upstairs",
  "unten": "below/downstairs",
  "links": "left",
  "rechts": "right",
  "gerade": "straight",
  "zur√ºck": "back",
  "vorne": "front",
  "hinten": "back/rear",

  // Objects & Things
  "Ding": "thing",
  "Sache": "thing/matter",
  "Geld": "money",
  "Euro": "euro",
  "Preis": "price",
  "Auto": "car",
  "Bus": "bus",
  "Zug": "train",
  "Fahrrad": "bicycle",
  "Flugzeug": "airplane",
  "Schiff": "ship",
  "Buch": "book",
  "Zeitung": "newspaper",
  "Zeitschrift": "magazine",
  "Brief": "letter",
  "Handy": "mobile phone",
  "Telefon": "telephone",
  "Computer": "computer",
  "Internet": "internet",
  "Fernseher": "television",
  "Radio": "radio",
  "Musik": "music",
  "Bild": "picture/image",
  "Foto": "photo",
  "Film": "film/movie",
  "Tisch": "table",
  "Stuhl": "chair",
  "Bett": "bed",
  "Sofa": "sofa",
  "Fenster": "window",
  "T√ºr": "door",
  "Wand": "wall",
  "Boden": "floor/ground",
  "Decke": "ceiling/blanket",
  "Lampe": "lamp",
  "Uhr": "clock/watch",
  "Schl√ºssel": "key",
  "Tasche": "bag/pocket",
  "Koffer": "suitcase",
  "Rucksack": "backpack",
  "Kleidung": "clothing",
  "Hemd": "shirt",
  "Hose": "pants/trousers",
  "Kleid": "dress",
  "Rock": "skirt",
  "Jacke": "jacket",
  "Mantel": "coat",
  "Schuh": "shoe",
  "Socke": "sock",
  "Hut": "hat",
  "Brille": "glasses",

  // Body Parts
  "K√∂rper": "body",
  "Kopf": "head",
  "Gesicht": "face",
  "Auge": "eye",
  "Ohr": "ear",
  "Nase": "nose",
  "Mund": "mouth",
  "Zahn": "tooth",
  "Haar": "hair",
  "Hals": "neck/throat",
  "Hand": "hand",
  "Finger": "finger",
  "Arm": "arm",
  "Bein": "leg",
  "Fu√ü": "foot",
  "R√ºcken": "back",
  "Bauch": "belly/stomach",
  "Herz": "heart",

  // Nature
  "Natur": "nature",
  "Baum": "tree",
  "Blume": "flower",
  "Gras": "grass",
  "Pflanze": "plant",
  "Tier": "animal",
  "Hund": "dog",
  "Katze": "cat",
  "Vogel": "bird",
  "Pferd": "horse",
  "Kuh": "cow",
  "Schwein": "pig",
  "Maus": "mouse",
  "Berg": "mountain",
  "Fluss": "river",
  "See": "lake",
  "Meer": "sea",
  "Ozean": "ocean",
  "Strand": "beach",
  "Wald": "forest",
  "Feld": "field",
  "Wiese": "meadow",
  "Insel": "island",

  // Work & Education
  "Arbeit": "work/job",
  "Beruf": "profession/occupation",
  "Chef": "boss",
  "Kollege": "colleague",
  "Kollegin": "colleague (female)",
  "Lehrer": "teacher (male)",
  "Lehrerin": "teacher (female)",
  "Sch√ºler": "student/pupil (male)",
  "Sch√ºlerin": "student/pupil (female)",
  "Student": "university student (male)",
  "Studentin": "university student (female)",
  "Arzt": "doctor (male)",
  "√Ñrztin": "doctor (female)",
  "Krankenschwester": "nurse",
  "Polizist": "police officer (male)",
  "Verk√§ufer": "salesperson (male)",
  "Verk√§uferin": "salesperson (female)",

  // Abstract Concepts
  "Leben": "life",
  "Tod": "death",
  "Liebe": "love",
  "Gl√ºck": "happiness/luck",
  "Problem": "problem",
  "L√∂sung": "solution",
  "Frage": "question",
  "Antwort": "answer",
  "Idee": "idea",
  "Plan": "plan",
  "Grund": "reason/ground",
  "Weg": "way/path",
  "Ziel": "goal/destination",
  "Anfang": "beginning",
  "Ende": "end",
  "Teil": "part",
  "St√ºck": "piece",
  "Gruppe": "group",
  "Name": "name",
  "Wort": "word",
  "Sprache": "language",
  "Deutsch": "German",
  "Englisch": "English",
  "Beispiel": "example",
  "Information": "information",
  "Nachricht": "message/news",
  "Geschichte": "story/history",
  "Recht": "right/law",
  "Gesetz": "law",
  "Regel": "rule",
  "Kultur": "culture",
  "Kunst": "art",
  "Wissenschaft": "science",
  "Politik": "politics",
  "Regierung": "government",
  "Krieg": "war",
  "Frieden": "peace",

  // Quantity
  "viel": "much/many",
  "wenig": "little/few",
  "mehr": "more",
  "weniger": "less/fewer",
  "meiste": "most",
  "alle": "all",
  "einige": "some",
  "mehrere": "several",
  "andere": "other",
  "beide": "both",
  "kein": "no/none",
  "ganz": "whole/quite",
  "halb": "half",

  // Ordinal numbers
  "erste": "first",
  "zweite": "second",
  "dritte": "third",
  "vierte": "fourth",
  "f√ºnfte": "fifth",
  "letzte": "last",

  // Common expressions
  "schon": "already",
  "noch": "still/yet",
  "wieder": "again",
  "ziemlich": "quite/rather",
  "fast": "almost",
  "etwa": "approximately",
  "genug": "enough",
  "zusammen": "together",
  "allein": "alone",
  "selbst": "self/oneself",
  "gegenseitig": "mutual/each other",
  "einander": "each other",

  // Common Phrases
  "Wie hei√üt du?": "What's your name?",
  "Ich hei√üe": "My name is",
  "Wie geht es dir?": "How are you?",
  "Ich verstehe": "I understand",
  "Ich verstehe nicht": "I don't understand",
  "Hilfe": "help",
  "zu viel": "too much",
  "zu wenig": "too little",
  "etwas": "something",
  "nichts": "nothing",
  "alles": "everything",
  "ein bisschen": "a little bit",
  "ein paar": "a few",

  // Additional Nouns with articles
  "Familie": "family",
  "Geschwister": "siblings",
  "Gro√üeltern": "grandparents",
  "Kinder": "children",
  "Schrank": "closet/wardrobe",
  "Spiegel": "mirror",
  "Teppich": "carpet/rug",
  "Schuhe": "shoes",
  "Pullover": "sweater/pullover",
  "Socken": "socks",
  "Heft": "notebook",
  "Stift": "pen",
  "Bleistift": "pencil",
  "Kuli": "ballpoint pen",
  "Papier": "paper",
  "Lineal": "ruler",
  "Radiergummi": "eraser",
  "Schere": "scissors",
  "Eier": "eggs",
  "Schinken": "ham",
  "Cola": "cola",
  "Kakao": "cocoa/hot chocolate",
  "Fr√ºhst√ºck": "breakfast",
  "Mittagessen": "lunch",
  "Abendessen": "dinner",
  "Teller": "plate",
  "Tasse": "cup",
  "Glas": "glass",
  "Messer": "knife",
  "Gabel": "fork",
  "L√∂ffel": "spoon",
  "Hunger": "hunger",
  "Durst": "thirst",
  "Wochenende": "weekend",
  "Jahreszeit": "season",

  // Time expressions
  "Zeit": "time",

  // Places with articles
  "geradeaus": "straight ahead",
  "Cent": "cent",
  "Kasse": "cash register/checkout",
  "T√ºte": "bag",
  "Zahl": "number",
  "Nummer": "number",
  "Packung": "package",
  "Flasche": "bottle",
  "Dose": "can/box",
  "Bahn": "railway/train",
  "S-Bahn": "S-train/city train",
  "U-Bahn": "subway/underground",
  "Stra√üenbahn": "tram/streetcar",
  "Rad": "wheel/bike",
  "Motorrad": "motorcycle",
  "Taxi": "taxi",

  // Transportation verbs
  "einsteigen": "to get in/to board",
  "aussteigen": "to get out/to exit",
  "umsteigen": "to transfer/to change",
  "ankommen": "to arrive",
  "abfahren": "to depart/to leave",
  "parken": "to park",

  // Transportation nouns
  "Haltestelle": "stop/station",
  "Fahrkarte": "ticket",
  "Ticket": "ticket",
  "Fahrt": "journey/trip",
  "Reise": "trip/journey",
  "Parkplatz": "parking space/lot",

  // Body parts (plural)
  "Haare": "hair",
  "Augen": "eyes",
  "Ohren": "ears",
  "Z√§hne": "teeth",
  "F√º√üe": "feet",
  "Lippe": "lip",
  "Schulter": "shoulder",
  "Knie": "knee",
  "Zehe": "toe",

  // Medical
  "Schmerz": "pain",
  "Schmerzen": "pains",
  "wehtun": "to hurt",
  "Medizin": "medicine",
  "Medikament": "medication",
  "Tablette": "pill/tablet",
  "Pflaster": "band-aid/plaster",
  "Erk√§ltung": "cold",
  "Fieber": "fever",
  "Husten": "cough",
  "Schnupfen": "runny nose/cold",
  "fit": "fit",

  // Sports & Activities
  "Sport": "sport",
  "Fu√üball": "football/soccer",
  "Basketball": "basketball",
  "Tennis": "tennis",
  "Schwimmen": "swimming",
  "joggen": "to jog",
  "wandern": "to hike",
  "Yoga": "yoga",
  "Training": "training",
  "Lied": "song",
  "Konzert": "concert",
  "Fernsehen": "television",
  "Hobby": "hobby",
  "Freizeit": "free time/leisure",
  "Spiel": "game",
  "E-Mail": "email",
  "telefonieren": "to telephone/to call",
  "fotografieren": "to photograph",
  "malen": "to paint",
  "zeichnen": "to draw",
  "basteln": "to craft/to tinker",
  "sich treffen": "to meet",
  "Party": "party",
  "feiern": "to celebrate",
  "Feier": "celebration",
  "Geburtstag": "birthday",
  "Geschenk": "gift/present",
  "einladen": "to invite",
  "Einladung": "invitation",
  "ausgehen": "to go out",
  "spazieren gehen": "to go for a walk",
  "Spaziergang": "walk",
  "Spa√ü haben": "to have fun",
  "Spa√ü": "fun",
  "sich freuen": "to be happy/to look forward to",

  // Reflexive verbs (daily routine)
  "sich anziehen": "to get dressed",
  "sich ausziehen": "to get undressed",
  "sich waschen": "to wash oneself",
  "sich duschen": "to shower",
  "sich baden": "to bathe",
  "sich k√§mmen": "to comb one's hair",
  "sich rasieren": "to shave",
  "sich schminken": "to put on makeup",
  "sich die Z√§hne putzen": "to brush one's teeth",
  "sich fertig machen": "to get ready",
  "fr√ºhst√ºcken": "to have breakfast",
  "zu Mittag essen": "to have lunch",
  "zu Abend essen": "to have dinner",

  // Bathroom items
  "Seife": "soap",
  "Shampoo": "shampoo",
  "Zahnb√ºrste": "toothbrush",
  "Zahnpasta": "toothpaste",
  "Handtuch": "towel",
  "Kamm": "comb",
  "B√ºrste": "brush",
  "F√∂hn": "hair dryer",
  "Creme": "cream",
  "Make-up": "makeup",
  "Lippenstift": "lipstick",
  "Parf√ºm": "perfume",
  "Deodorant": "deodorant",
  "Rasierer": "razor",

  // Time of day
  "Vormittag": "forenoon/morning",
  "Mittag": "noon/midday",
  "Tagesablauf": "daily routine",
  "Routine": "routine",
  "t√§glich": "daily",
  "jeden Tag": "every day",
  "morgens": "in the morning",
  "mittags": "at noon",
  "abends": "in the evening",
  "nachts": "at night",
  "p√ºnktlich": "punctual/on time",
  "rechtzeitig": "in time",
  "versp√§tet": "delayed/late",

  // Housing types
  "Einfamilienhaus": "single-family house",
  "Mehrfamilienhaus": "multi-family house",
  "Mietwohnung": "rental apartment",
  "Eigentumswohnung": "condominium",
  "Hochhaus": "high-rise building",
  "Reihenhaus": "townhouse/row house",
  "Altbau": "old building",
  "Neubau": "new building",
  "Erdgeschoss": "ground floor",
  "Stock": "floor/story",
  "Etage": "floor/level",
  "Aufzug": "elevator",
  "Treppenhaus": "stairwell",

  // Furniture & Appliances
  "Sessel": "armchair",
  "Regal": "shelf/bookshelf",
  "Schreibtisch": "desk",
  "K√ºhlschrank": "refrigerator",
  "Herd": "stove",
  "Sp√ºlmaschine": "dishwasher",
  "Waschmaschine": "washing machine",
  "Trockner": "dryer",
  "Staubsauger": "vacuum cleaner",
  "B√ºgeleisen": "iron",
  "Vorhang": "curtain",
  "Gardine": "curtain",
  "Kissen": "pillow/cushion",
  "Decke": "blanket/ceiling",

  // Rental/Housing terms
  "Miete": "rent",
  "Mieter": "tenant (male)",
  "Vermieter": "landlord (male)",
  "mieten": "to rent",
  "vermieten": "to rent out",
  "Mietvertrag": "rental contract",
  "Nebenkosten": "additional costs/utilities",
  "Kaution": "deposit",
  "umziehen": "to move",
  "Umzug": "move/relocation",
  "einziehen": "to move in",
  "ausziehen": "to move out",
  "renovieren": "to renovate",
  "einrichten": "to furnish",
  "Einrichtung": "furniture/furnishing",
  "Nachbar": "neighbor (male)",
  "Nachbarin": "neighbor (female)",
  "Nachbarschaft": "neighborhood",
  "Hausmeister": "janitor/caretaker",
  "Hausordnung": "house rules",
  "Adresse": "address",
  "Postleitzahl": "postal code/zip code",
  "Briefkasten": "mailbox",
  "Zentralheizung": "central heating",
  "Klimaanlage": "air conditioning",
  "Heizung": "heating",
  "M√ºll": "garbage/trash",

  // Work & Professions
  "Arbeitsplatz": "workplace",
  "Unternehmen": "company/enterprise",
  "Betrieb": "company/operation",
  "Chefin": "boss (female)",
  "Team": "team",
  "Abteilung": "department",
  "Gehalt": "salary",
  "Lohn": "wage",
  "Bezahlung": "payment",
  "Koch": "cook (male)",
  "K√∂chin": "cook (female)",
  "Kellner": "waiter",
  "Kellnerin": "waitress",
  "Ingenieur": "engineer (male)",
  "Ingenieurin": "engineer (female)",
  "Programmierer": "programmer (male)",
  "Programmiererin": "programmer (female)",
  "Mechaniker": "mechanic (male)",
  "Mechanikerin": "mechanic (female)",
  "Elektriker": "electrician (male)",
  "Elektrikerin": "electrician (female)",
  "Friseur": "hairdresser (male)",
  "Friseurin": "hairdresser (female)",
  "Job": "job",
  "Stelle": "position/job",
  "verdienen": "to earn",
  "√úberstunde": "overtime",
  "Pause": "break",
  "Mittagspause": "lunch break",
  "Urlaub": "vacation/holiday",
  "Feierabend": "end of work/quitting time",
  "Besprechung": "meeting/discussion",
  "Meeting": "meeting",
  "Termin": "appointment",
  "Sitzung": "meeting/session",
  "Bewerbung": "application",
  "sich bewerben": "to apply",
  "Vorstellungsgespr√§ch": "job interview",
  "einstellen": "to hire/to employ",
  "k√ºndigen": "to quit/to resign",
  "K√ºndigung": "resignation/termination",

  // Shops
  "B√§ckerei": "bakery",
  "Metzgerei": "butcher shop",
  "Buchhandlung": "bookstore",
  "Drogerie": "drugstore",
  "Kiosk": "kiosk",
  "Kaufhaus": "department store",
  "Einkaufszentrum": "shopping center/mall",
  "Boutique": "boutique",
  "Bioladen": "organic store",

  // Shopping
  "einkaufen": "to shop",
  "Einkauf": "shopping/purchase",
  "Einkaufsliste": "shopping list",
  "Einkaufswagen": "shopping cart",
  "Einkaufskorb": "shopping basket",
  "ausw√§hlen": "to select/to choose",
  "anprobieren": "to try on",
  "Umkleidekabine": "changing room",
  "passen": "to fit",
  "umtauschen": "to exchange",
  "zur√ºckgeben": "to return",
  "Quittung": "receipt",
  "Kassenzettel": "receipt",
  "Angebot": "offer/sale",
  "Rabatt": "discount",
  "reduziert": "reduced",
  "im Angebot": "on sale",
  "Sonderpreis": "special price",
  "Mehrwertsteuer": "value-added tax/VAT",
  "bar bezahlen": "to pay cash",
  "mit Karte bezahlen": "to pay by card",

  // Clothing
  "T-Shirt": "t-shirt",

  // Rooms
  "Badezimmer": "bathroom",
  "Toilette": "toilet",
  "Esszimmer": "dining room",
  "Balkon": "balcony",

  // Adjectives
  "dick": "thick/fat",
  "d√ºnn": "thin",
  "hoch": "high",
  "niedrig": "low",
  "breit": "wide",
  "schmal": "narrow",

  // Additional Shopping & Services
  "welche(r/s)": "which",
  "Kreditkarte": "credit card",
  "EC-Karte": "debit card",
  "Kleingeld": "small change",
  "Wechselgeld": "change (money back)",
  "Kunde": "customer (male)",
  "Kundin": "customer (female)",
  "Service": "service",
  "Beratung": "consultation/advice",
  "beraten": "to advise/to consult",
  "empfehlen": "to recommend",
  "Empfehlung": "recommendation",
  "sich beschweren": "to complain",
  "Beschwerde": "complaint",
  "Garantie": "guarantee/warranty",

  // Education
  "Kindergarten": "kindergarten",
  "Grundschule": "elementary school",
  "Gymnasium": "high school/grammar school",
  "Realschule": "secondary school",
  "Hauptschule": "secondary modern school",
  "Gesamtschule": "comprehensive school",
  "Hochschule": "university/college",
  "Fachhochschule": "university of applied sciences",
  "Volkshochschule": "adult education center",
  "Fach": "subject",
  "Kurs": "course",
  "Vorlesung": "lecture",
  "Seminar": "seminar",
  "Unterricht": "lesson/instruction",
  "Hausaufgabe": "homework",
  "Hausaufgaben": "homework",
  "Pr√ºfung": "exam",
  "Test": "test",
  "Klausur": "written exam",
  "Note": "grade",
  "Zeugnis": "report card/certificate",
  "Abschluss": "degree/completion",
  "Abitur": "high school diploma",
  "Bachelor": "bachelor's degree",
  "Master": "master's degree",
  "Doktor": "doctorate/PhD",
  "Diplom": "diploma",

  // More Education
  "Klasse": "class/grade",
  "Klassenzimmer": "classroom",
  "Mitsch√ºler": "classmate (male)",
  "Mitsch√ºlerin": "classmate (female)",
  "Kommilitone": "fellow student (male)",
  "Kommilitonin": "fellow student (female)",
  "Tafel": "blackboard",
  "Kreide": "chalk",
  "Projektor": "projector",
  "Beamer": "projector",

  // Learning verbs
  "√ºben": "to practice",
  "wiederholen": "to repeat/to review",
  "vorbereiten": "to prepare",
  "sich vorbereiten": "to prepare oneself",
  "pauken": "to cram/to study hard",
  "bestehen": "to pass (an exam)",
  "durchfallen": "to fail (an exam)",
  "ausfallen": "to be canceled",
  "teilnehmen": "to participate",
  "verpassen": "to miss",

  // Money & Banking
  "Konto": "account",
  "Girokonto": "checking account",
  "Sparkonto": "savings account",
  "Kontoauszug": "bank statement",
  "√úberweisung": "transfer",
  "√ºberweisen": "to transfer",
  "abheben": "to withdraw",
  "einzahlen": "to deposit",
  "Geldautomat": "ATM",
  "Bankkarte": "bank card",
  "PIN": "PIN",
  "Geb√ºhr": "fee",
  "Zinsen": "interest",
  "Kredit": "loan/credit",
  "Schulden": "debt",
  "sparen": "to save",
  "ausgeben": "to spend",

  // Communication
  "Nachricht": "message",
  "SMS": "text message/SMS",
  "anrufen": "to call",
  "Anruf": "call",
  "zur√ºckrufen": "to call back",
  "auflegen": "to hang up",
  "Mailbox": "voicemail",
  "Kontakt": "contact",
  "Nummer": "number",
  "Telefonnummer": "phone number",
  "Vorwahl": "area code",
  "Gespr√§ch": "conversation",
  "sprechen mit": "to speak with",
  "reden": "to talk",
  "erz√§hlen": "to tell/to narrate",
  "beschreiben": "to describe",
  "Beschreibung": "description",
  "Mitteilung": "notice/message",
  "benachrichtigen": "to notify",
  "informieren": "to inform",

  // Technology
  "Laptop": "laptop",
  "Tablet": "tablet",
  "Bildschirm": "screen",
  "Tastatur": "keyboard",
  "Maus": "mouse",
  "Drucker": "printer",
  "Scanner": "scanner",
  "USB-Stick": "USB stick",
  "Festplatte": "hard drive",
  "Software": "software",
  "Programm": "program",
  "App": "app",
  "Datei": "file",
  "Ordner": "folder",
  "Passwort": "password",
  "Benutzername": "username",
  "speichern": "to save",
  "l√∂schen": "to delete",
  "herunterladen": "to download",
  "hochladen": "to upload",
  "installieren": "to install",
  "aktualisieren": "to update",
  "surfen": "to surf",
  "googeln": "to google",
  "chatten": "to chat",
  "tippen": "to type",
  "klicken": "to click",

  // Travel & Tourism
  "Koffer": "suitcase",
  "Gep√§ck": "luggage",
  "Reisepass": "passport",
  "Visum": "visa",
  "Buchung": "booking",
  "buchen": "to book",
  "reservieren": "to reserve",
  "Reservierung": "reservation",
  "Rezeption": "reception",
  "Empfang": "reception",
  "Zimmer": "room",
  "Einzelzimmer": "single room",
  "Doppelzimmer": "double room",
  "√úbernachtung": "overnight stay",
  "√ºbernachten": "to stay overnight",
  "einchecken": "to check in",
  "auschecken": "to check out",
  "Aufenthalt": "stay",
  "Gast": "guest",
  "Tourist": "tourist",
  "Touristin": "tourist (female)",
  "Tourismus": "tourism",
  "Sehensw√ºrdigkeit": "sight/attraction",
  "Ausflug": "excursion/trip",
  "F√ºhrung": "guided tour",
  "Karte": "map/card",
  "Stadtplan": "city map",
  "Landkarte": "map",

  // Nature & Environment
  "Umwelt": "environment",
  "Natur": "nature",
  "Umweltschutz": "environmental protection",
  "Klima": "climate",
  "Klimawandel": "climate change",
  "Luft": "air",
  "Verschmutzung": "pollution",
  "M√ºll": "garbage/trash",
  "Abfall": "waste",
  "recyceln": "to recycle",
  "Recycling": "recycling",
  "M√ºlltrennung": "waste separation",
  "Energie": "energy",
  "Strom": "electricity",
  "Wasser": "water",
  "Gas": "gas",
  "√ñl": "oil",
  "Kohle": "coal",
  "Solar": "solar",
  "Wind": "wind",
  "erneuerbar": "renewable",
  "nachhaltig": "sustainable",
  "Bio": "organic",
  "√∂kologisch": "ecological",

  // Directions & Location
  "Richtung": "direction",
  "Ecke": "corner",
  "Kreuzung": "intersection",
  "Ampel": "traffic light",
  "Zebrastreifen": "crosswalk",
  "Gehweg": "sidewalk",
  "Fu√üg√§ngerzone": "pedestrian zone",
  "Br√ºcke": "bridge",
  "Tunnel": "tunnel",
  "Autobahn": "highway",
  "Landstra√üe": "country road",
  "Einbahnstra√üe": "one-way street",
  "Sackgasse": "dead end",
  "Ausfahrt": "exit",
  "Einfahrt": "entrance/driveway",
  "Abbiegen": "turning",
  "abbiegen": "to turn",
  "√ºberqueren": "to cross",
  "entlang": "along",
  "gegen√ºber": "opposite",
  "in der N√§he": "nearby",
  "weit": "far",
  "nah": "near",
  "Entfernung": "distance",
  "Kilometer": "kilometer",
  "Meter": "meter",

  // Government & Administration
  "Rathaus": "town hall/city hall",
  "Amt": "office/authority",
  "Beh√∂rde": "authority/agency",
  "Einwohnermeldeamt": "registration office",
  "Finanzamt": "tax office",
  "Arbeitsamt": "employment office",
  "Ausweis": "ID card",
  "Personalausweis": "identity card",
  "F√ºhrerschein": "driver's license",
  "Anmeldung": "registration",
  "anmelden": "to register",
  "abmelden": "to deregister",
  "Formular": "form",
  "ausf√ºllen": "to fill out",
  "unterschreiben": "to sign",
  "Unterschrift": "signature",
  "Antrag": "application",
  "beantragen": "to apply for",
  "Erlaubnis": "permission",
  "Genehmigung": "approval/permit",
  "Bescheid": "notice/decision",

  // Health & Medical (expanded)
  "Gesundheit": "health",
  "Termin": "appointment",
  "Sprechstunde": "office hours/consultation hours",
  "Behandlung": "treatment",
  "behandeln": "to treat",
  "untersuchen": "to examine",
  "Untersuchung": "examination",
  "Diagnose": "diagnosis",
  "Rezept": "prescription",
  "Versicherung": "insurance",
  "Krankenversicherung": "health insurance",
  "Krankenkasse": "health insurance company",
  "Patient": "patient (male)",
  "Patientin": "patient (female)",
  "Notfall": "emergency",
  "Notaufnahme": "emergency room",
  "Rettungswagen": "ambulance",
  "Verletzung": "injury",
  "verletzen": "to injure",
  "Wunde": "wound",
  "Blut": "blood",
  "Knochen": "bone",
  "Bruch": "fracture/break",
  "Allergie": "allergy",
  "allergisch": "allergic",

  // Food & Restaurants (expanded)
  "Speisekarte": "menu",
  "Vorspeise": "appetizer",
  "Hauptgericht": "main course",
  "Nachtisch": "dessert",
  "Nachspeise": "dessert",
  "Beilage": "side dish",
  "Portion": "portion",
  "Rechnung": "bill",
  "bestellen": "to order",
  "Bestellung": "order",
  "servieren": "to serve",
  "schmecken": "to taste",
  "lecker": "tasty/delicious",
  "k√∂stlich": "delicious",
  "Geschmack": "taste",
  "s√º√ü": "sweet",
  "sauer": "sour",
  "salzig": "salty",
  "bitter": "bitter",
  "scharf": "spicy/sharp",
  "mild": "mild",
  "frisch": "fresh",
  "roh": "raw",
  "gekocht": "cooked",
  "gebraten": "fried",
  "gegrillt": "grilled",
  "gebacken": "baked",

  // Feelings & Emotions (expanded)
  "Gef√ºhl": "feeling",
  "Emotion": "emotion",
  "Stimmung": "mood",
  "f√ºhlen": "to feel",
  "sich f√ºhlen": "to feel",
  "freuen": "to be happy",
  "Freude": "joy",
  "Angst": "fear",
  "Angst haben": "to be afraid",
  "Sorge": "worry",
  "sich Sorgen machen": "to worry",
  "traurig": "sad",
  "Traurigkeit": "sadness",
  "w√ºtend": "angry",
  "Wut": "anger",
  "√§rgern": "to annoy",
  "sich √§rgern": "to be annoyed",
  "√Ñrger": "annoyance/trouble",
  "entt√§uscht": "disappointed",
  "Entt√§uschung": "disappointment",
  "√ºberrascht": "surprised",
  "√úberraschung": "surprise",
  "stolz": "proud",
  "Stolz": "pride",
  "Hoffnung": "hope",
  "Traum": "dream",
  "nerv√∂s": "nervous",
  "aufgeregt": "excited",
  "ruhig": "calm/quiet",
  "entspannt": "relaxed",
  "sich entspannen": "to relax",
  "gestresst": "stressed",
  "Stress": "stress",
  "zufrieden": "satisfied/content",
  "unzufrieden": "dissatisfied",

  // Time expressions (expanded)
  "vorgestern": "day before yesterday",
  "√ºbermorgen": "day after tomorrow",
  "neulich": "recently",
  "k√ºrzlich": "recently",
  "damals": "back then/at that time",
  "momentan": "currently/at the moment",
  "gerade": "just now/currently",
  "sofort": "immediately",
  "gleich": "right away/soon",
  "demn√§chst": "soon",
  "vorher": "before/previously",
  "nachher": "afterwards",
  "w√§hrenddessen": "meanwhile",
  "inzwischen": "meanwhile/in the meantime",
  "schlie√ülich": "finally",
  "endlich": "finally/at last",
  "bereits": "already",
  "pl√∂tzlich": "suddenly",
  "gleichzeitig": "simultaneously",

  // Common verbs (expanded)
  "aufmachen": "to open",
  "zumachen": "to close",
  "anmachen": "to turn on",
  "ausmachen": "to turn off",
  "mitbringen": "to bring along",
  "mitnehmen": "to take along",
  "abholen": "to pick up",
  "zur√ºckkommen": "to come back",
  "weitermachen": "to continue",
  "aufh√∂ren mit": "to stop",
  "aufpassen": "to pay attention/to watch out",
  "vorsehen": "to be careful",
  "sich vorsehen": "to be careful",
  "sich erinnern an": "to remember",
  "sich k√ºmmern um": "to take care of",
  "sich interessieren f√ºr": "to be interested in",
  "sich entscheiden": "to decide",
  "Entscheidung": "decision",
  "sich verlieben": "to fall in love",
  "verliebt": "in love",
  "heiraten": "to marry",
  "Hochzeit": "wedding",
  "Ehe": "marriage",
  "sich scheiden lassen": "to get divorced",
  "Scheidung": "divorce",

  // Miscellaneous common words
  "Sache": "thing/matter",
  "Art": "kind/type",
  "Weise": "way/manner",
  "Teil": "part",
  "St√ºck": "piece",
  "Menge": "amount/quantity",
  "Zahl": "number",
  "Unterschied": "difference",
  "verschieden": "different/various",
  "√§hnlich": "similar",
  "gleich": "same/equal",
  "besonder": "special",
  "besonders": "especially/particularly",
  "normal": "normal",
  "√ºblich": "usual/common",
  "seltsam": "strange",
  "komisch": "funny/strange",
  "merkw√ºrdig": "odd/strange",
  "verr√ºckt": "crazy",
  "wunderbar": "wonderful",
  "toll": "great",
  "super": "super/great",
  "prima": "excellent/great",
  "fantastisch": "fantastic",
  "schrecklich": "terrible",
  "furchtbar": "awful/terrible",
  "schlimm": "bad",
};

// Helper function to extract base word from German word with article
function extractBaseWord(germanWord) {
  // Remove articles (der, die, das, ein, eine)
  const withoutArticle = germanWord
    .replace(/^(der|die|das|ein|eine)\s+/i, '')
    .replace(/\s*\/\s*/g, '/'); // Normalize slashes

  return withoutArticle;
}

// Helper function to get translation
function getTranslation(germanWord) {
  // Try exact match first
  if (germanToEnglish[germanWord]) {
    return germanToEnglish[germanWord];
  }

  // Try case-insensitive match
  const lowerWord = germanWord.toLowerCase();
  if (germanToEnglish[lowerWord]) {
    return germanToEnglish[lowerWord];
  }

  // Try without article
  const baseWord = extractBaseWord(germanWord);
  if (baseWord !== germanWord && germanToEnglish[baseWord]) {
    return germanToEnglish[baseWord];
  }

  // Try base word lowercase
  const lowerBase = baseWord.toLowerCase();
  if (lowerBase !== baseWord && germanToEnglish[lowerBase]) {
    return germanToEnglish[lowerBase];
  }

  // Try to handle words with alternatives (like "Oma / Gro√ümutter")
  if (germanWord.includes('/')) {
    const parts = germanWord.split('/');
    for (const part of parts) {
      const trimmed = part.trim();
      const result = getTranslation(trimmed);
      if (result) {
        return result;
      }
    }
  }

  return null;
}

async function translateBatch1English() {
  const client = await pool.connect();

  try {
    console.log('üá¨üáß Translating batch 1 (first 1000 words) German ‚Üí English...\n');

    // Fetch first 1000 German words
    const words = await client.query(`
      SELECT id, word, level, example_de
      FROM source_words_german
      ORDER BY id
      LIMIT 1000
    `);

    console.log(`Found ${words.rows.length} German words to translate\n`);

    let translated = 0;
    let skipped = 0;
    let notFound = 0;
    const missingWords = [];

    for (const row of words.rows) {
      // Check if translation already exists
      const existing = await client.query(`
        SELECT id FROM target_translations_english
        WHERE source_lang = 'de' AND source_word_id = $1
      `, [row.id]);

      if (existing.rows.length > 0) {
        skipped++;
        continue;
      }

      // Get English translation
      const translation = getTranslation(row.word);

      if (!translation) {
        notFound++;
        missingWords.push({ id: row.id, word: row.word, level: row.level });
        continue;
      }

      // Insert translation
      await client.query(`
        INSERT INTO target_translations_english
        (source_lang, source_word_id, translation)
        VALUES ('de', $1, $2)
      `, [row.id, translation]);

      translated++;

      if (translated % 100 === 0) {
        console.log(`‚úì Translated: ${translated}`);
      }
    }

    console.log(`\n‚úÖ Batch 1 translation complete:`);
    console.log(`   Total words processed: ${words.rows.length}`);
    console.log(`   Successfully translated: ${translated}`);
    console.log(`   Already existed (skipped): ${skipped}`);
    console.log(`   Not found in dictionary: ${notFound}`);

    if (missingWords.length > 0) {
      console.log(`\nüìã Words still needing translation (first 30):`);
      missingWords.slice(0, 30).forEach(w => {
        console.log(`   "${w.word}",`);
      });

      if (missingWords.length > 30) {
        console.log(`   ... and ${missingWords.length - 30} more`);
      }
    }

  } catch (err) {
    console.error('‚ùå Error during translation:', err);
    throw err;
  } finally {
    client.release();
    await pool.end();
  }
}

translateBatch1English();
